# Logfile created on Thu Nov 19 22:02:39 +0100 2009 by logger.rb/22285
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.4ms)[0m   [0mCREATE TABLE "foo" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: relation "foos" does not exist
LINE 4: WHERE a.attrelid = '"foos"'::regclass
 ^
: SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"foos"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "foos" [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.8ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.9ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.2ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.7ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.2ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: ERROR: table "foo" does not exist
: DROP TABLE "foo"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "foos"[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.2ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: relation "foos" does not exist
LINE 1: CREATE TABLE foos AS (SELECT * FROM foos)
 ^
: CREATE TABLE foos AS (SELECT * FROM foos)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "foos" [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "foos" [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: ERROR: relation "foos_old" does not exist
LINE 1: CREATE TABLE foos AS (SELECT * FROM foos_old)
 ^
: CREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.4ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.4ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.8ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFoo Load (0.1ms)[0m   [0mSELECT * FROM "foos" [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.8ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFoo Load (0.1ms)[0m   [0mSELECT * FROM "foos" [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.9ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFoo Load (0.1ms)[0m   [0mSELECT * FROM "foos" [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.7ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFoo Load (0.1ms)[0m   [0;1mSELECT * FROM "foos" [0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.4ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: null value in column "id" violates not-null constraint
: INSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.4ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (20.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "id" TYPE integer[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (1.7ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: null value in column "id" violates not-null constraint
: INSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "id" TYPE integer[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (5.1ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: null value in column "id" violates not-null constraint
: INSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.0ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: ERROR: syntax error at or near "primary"
LINE 1: ALTER TABLE "foos" ALTER COLUMN "id" TYPE serial primary key
 ^
: ALTER TABLE "foos" ALTER COLUMN "id" TYPE serial primary key[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.6ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: type "serial" does not exist
: ALTER TABLE "foos" ALTER COLUMN "id" TYPE serial[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.9ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "id" TYPE integer[0m
  [4;35;1mSQL (2.7ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: null value in column "id" violates not-null constraint
: INSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: syntax error at or near "DEFAULT"
LINE 1: ALTER TABLE foos SET DEFAULT nextval('foos_id_seq'::regclass...
 ^
: ALTER TABLE foos SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.8ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: ERROR: cannot drop table foos_old because other objects depend on it
DETAIL: default for table foos column id depends on sequence foos_id_seq
HINT: Use DROP ... CASCADE to drop the dependent objects too.
: DROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.5ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.4ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (5.2ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: ERROR: role "foos" does not exist
: ALTER SEQUENCE foos_id_seq OWNER TO foos[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.3ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.6ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (6.0ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.8ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.4ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (3.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.7ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(NULL, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : INSERT INTO "foos" ("baz", "bar") VALUES(NULL, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (3.1ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (19.6ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (3.1ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (3.8ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (14.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.8ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.4ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (3.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.6ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : INSERT INTO "foos" ("baz", "bar") VALUES(NULL, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.7ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.7ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : INSERT INTO "foos" ("baz", "bar") VALUES(NULL, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.9ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.6ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : INSERT INTO "foos" ("baz", "bar") VALUES(NULL, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (3.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "foos" [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : CREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "foos" [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.6ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (3.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;35;1mSQL (0.2ms)[0m   [0mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "foos" ("baz", "bar") VALUES(0, 123) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.6ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT 0[0m
  [4;35;1mSQL (0.2ms)[0m   [0mUPDATE "foos" SET "baz"=0 WHERE "baz" IS NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "baz" SET NOT NULL[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "foos_old"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : CREATE TABLE foos AS (SELECT *, 123 AS baz)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPGError: : CREATE TABLE foos AS (SELECT *, 123 AS baz FROM foos)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "foos" ("bar") VALUES(NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE TABLE foos AS (SELECT *, 123 AS baz FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mFoo Load (0.2ms)[0m   [0mSELECT * FROM "foos" LIMIT 1[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.7ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (2.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (3.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (2.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (3.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.6ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: : CREATE bar INDEX "index_foos_on_index_foos_on_bar" ON "foos" ("index_foos_on_bar")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.4ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPGError: : CREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.6ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.7ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.4ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;35;1mSQL (2.1ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_bar[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (3.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" DROP NOT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_bar[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_baz[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (4.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE UNIQUE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" DROP NOT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_bar[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_baz[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (4.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.4ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;35;1mSQL (2.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" DROP NOT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_bar[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX index_foos_on_baz[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (5.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCREATE TABLE "foos" ("id" serial primary key, "bar" integer, "baz" integer) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "foos" RENAME TO "foos_old"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE foos AS (SELECT * FROM foos_old)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE foos ADD PRIMARY KEY (id)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE foos ALTER COLUMN id SET DEFAULT nextval('foos_id_seq'::regclass)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER SEQUENCE foos_id_seq OWNED BY foos.id[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "bar" TYPE integer[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "bar" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER "bar" DROP NOT NULL[0m
  [4;35;1mSQL (2.5ms)[0m   [0mALTER TABLE "foos" ALTER COLUMN "baz" TYPE integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mALTER TABLE "foos" ALTER COLUMN "baz" SET DEFAULT NULL[0m
  [4;35;1mSQL (0.1ms)[0m   [0mALTER TABLE "foos" ALTER "baz" DROP NOT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_bar[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_foos_on_bar" ON "foos" ("bar")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX index_foos_on_baz[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "index_foos_on_baz" ON "foos" ("baz")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "foos_old"[0m
  [4;35;1mSQL (4.8ms)[0m   [0mROLLBACK[0m
